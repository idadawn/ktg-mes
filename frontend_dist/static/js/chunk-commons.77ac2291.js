(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-commons"],{"135d":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"供应商选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"100px"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"供应商编码",prop:"vendorCode"}},[l("el-input",{attrs:{placeholder:"请输入供应商编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorCode,callback:function(t){e.$set(e.queryParams,"vendorCode",t)},expression:"queryParams.vendorCode"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"供应商名称",prop:"vendorName"}},[l("el-input",{attrs:{placeholder:"请输入供应商名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorName,callback:function(t){e.$set(e.queryParams,"vendorName",t)},expression:"queryParams.vendorName"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"供应商简称",prop:"vendorNick"}},[l("el-input",{attrs:{placeholder:"请输入供应商简称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorNick,callback:function(t){e.$set(e.queryParams,"vendorNick",t)},expression:"queryParams.vendorNick"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"英文名称",prop:"vendorEn"}},[l("el-input",{attrs:{placeholder:"请输入供应商英文名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorEn,callback:function(t){e.$set(e.queryParams,"vendorEn",t)},expression:"queryParams.vendorEn"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"是否启用",prop:"enableFlag"}},[l("el-select",{staticStyle:{width:"215px"},attrs:{placeholder:"是否启用",clearable:""},model:{value:e.queryParams.enableFlag,callback:function(t){e.$set(e.queryParams,"enableFlag",t)},expression:"queryParams.enableFlag"}},e._l(e.dict.type.sys_yes_no,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.vendorList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.vendorId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedVendorId,callback:function(t){e.selectedVendorId=t},expression:"selectedVendorId"}},[e._v(e._s(""))])]}}],null,!1,3887479635)}),l("el-table-column",{attrs:{label:"供应商编码",align:"center",prop:"vendorCode"}}),l("el-table-column",{attrs:{label:"供应商名称",align:"center",prop:"vendorName",width:"150px","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"供应商简称",align:"center",prop:"vendorNick"}}),l("el-table-column",{attrs:{label:"供应商等级",align:"center",prop:"vendorLevel"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.mes_vendor_level,value:t.row.vendorLevel}})]}}],null,!1,1714652440)}),l("el-table-column",{attrs:{label:"供应商评分",align:"center",prop:"vendorScore"}}),l("el-table-column",{attrs:{label:"供应商电话",align:"center",prop:"tel"}}),l("el-table-column",{attrs:{label:"是否启用",align:"center",prop:"enableFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.sys_yes_no,value:t.row.enableFlag}})]}}],null,!1,4213365913)}),l("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("051f"),o={name:"VendorSelect",dicts:["sys_yes_no","mes_vendor_level"],data:function(){return{showFlag:!1,selectedVendorId:void 0,selectedRow:void 0,loading:!0,single:!0,multiple:!0,showSearch:!0,total:0,vendorList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,vendorCode:null,vendorName:null,vendorNick:null,vendorEn:null,vendorDes:null,vendorLogo:null,vendorLevel:null,vendorScore:null,address:null,website:null,email:null,tel:null,contact1:null,contact1Tel:null,contact1Email:null,contact2:null,contact2Tel:null,contact2Email:null,creditCode:null,enableFlag:null},form:{}}},created:function(){this.getList()},methods:{handleOpen:function(e){this.showFlag=!0,this.selectedVendorId=e},getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.vendorList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRow=e)},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedVendorId&&0!=this.selectedVendorId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},"20da":function(e,t,l){"use strict";var a,n=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("el-button",{attrs:{size:"mini",type:"text",icon:"el-icon-printer"},on:{click:function(t){return e.handleHiPrint()}}},[e._v(e._s(e.labelText))])},r=[],o=l("c14f"),i=l("1da1"),s=(l("b64b"),l("a0eb")),c=l("0f64"),u=l("1c83"),d=(l("fe63"),l("5755")),m=l("b719"),p=(l("2d6a"),l("8125")),h=l("9d5b"),y=(l("5c96"),{name:"printLabel",data:function(){return{}},mounted:function(){this.init()},props:{businessId:null,businessCode:null,businessType:null,labelText:{type:String,default:"打印"},printerCode:null},methods:{handlePrint:function(){var e,t=this;if(null==this.printerCode){var l="defaultPrinter",a=localStorage.getItem(l);if(null!=a){var n=JSON.parse(a);e=n.printerCode}else this.$modal.msgError("请在打印管理-打印机配置功能中指定默认打印机！")}else e=this.printerCode;var r={businessId:this.businessId,businessCode:this.businessCode,businessType:this.businessType,printerCode:e};Object(s["a"])(r).then((function(e){t.$modal.msgSuccess("打印成功")}))},init:function(){c["hiprint"].init({providers:[u["default"]]}),a=new c["hiprint"].PrintTemplate},handleHiPrint:function(){var e=this;return Object(i["a"])(Object(o["a"])().m((function t(){var l,n;return Object(o["a"])().w((function(t){while(1)switch(t.n){case 0:n=e.businessType,t.n="ITEM"===n?1:"ITEM_BATCH"===n?3:5;break;case 1:return t.n=2,Object(d["c"])(e.businessId).then((function(e){l=e.data}));case 2:return t.a(3,6);case 3:return t.n=4,Object(p["c"])(e.businessId).then((function(e){l=e.data}));case 4:return t.a(3,6);case 5:return t.a(3,6);case 6:Object(m["c"])(e.businessType).then((function(t){var n=t.data;if(a)try{if(a.update(JSON.parse(n.templateJson)),window.hiwebSocket.opened){var r=JSON.parse(localStorage.getItem("defaultClient"));return void Object(h["c"])(r.clientId).then((function(t){200==t.code&&(a.print2(l,{printer:t.data.printerName,title:"hiprint测试打印"}),e.$message.success("打印成功"))}))}e.$message.error("客户端未连接,无法直接打印")}catch(o){e.$message.error("更新失败: ".concat(o))}}));case 7:return t.a(2)}}),t)})))()}}}),f=y,b=l("2877"),g=Object(b["a"])(f,n,r,!1,null,null,null);t["a"]=g.exports},"25fa":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"物料产品选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4,xs:24}},[l("div",{staticClass:"head-container"},[l("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入分类名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.itemTypeName,callback:function(t){e.itemTypeName=t},expression:"itemTypeName"}})],1),l("div",{staticClass:"head-container"},[l("el-tree",{ref:"tree",attrs:{data:e.itemTypeOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),l("el-col",{attrs:{span:20,xs:24}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[l("el-form-item",{attrs:{label:"物料编码",prop:"itemCode"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入物料编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemCode,callback:function(t){e.$set(e.queryParams,"itemCode",t)},expression:"queryParams.itemCode"}})],1),l("el-form-item",{attrs:{label:"物料名称",prop:"itemName"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入物料名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemName,callback:function(t){e.$set(e.queryParams,"itemName",t)},expression:"queryParams.itemName"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.itemList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.itemId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedItemId,callback:function(t){e.selectedItemId=t},expression:"selectedItemId"}},[e._v(e._s(""))])]}}],null,!1,3499373459)}),e.columns[0].visible?l("el-table-column",{key:"itemCode",attrs:{label:"物料编码",width:"120",align:"center",prop:"itemCode"}}):e._e(),e.columns[1].visible?l("el-table-column",{key:"itemName",attrs:{label:"物料名称","min-width":"120",align:"left",prop:"itemName","show-overflow-tooltip":!0}}):e._e(),e.columns[2].visible?l("el-table-column",{key:"specification",attrs:{label:"规格型号",align:"left",prop:"specification","show-overflow-tooltip":!0}}):e._e(),e.columns[3].visible?l("el-table-column",{key:"unitName",attrs:{label:"单位",align:"center",prop:"unitName","show-overflow-tooltip":!0}}):e._e(),e.columns[4].visible?l("el-table-column",{key:"itemOrProduct",attrs:{label:"物料/产品",align:"center",prop:"itemOrProduct","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.mes_item_product,value:t.row.itemOrProduct}})]}}],null,!1,2047508773)}):e._e(),e.columns[5].visible?l("el-table-column",{key:"itemTypeName",attrs:{label:"所属分类",align:"center",prop:"itemTypeName",width:"120"}}):e._e(),e.columns[6].visible?l("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e()],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=(l("4de4"),l("e9f5"),l("910d"),l("d3b7"),l("5755")),o=(l("c3e0"),l("8171"),l("5f87"),l("4a8f")),i=l("ca17"),s=l.n(i),c=(l("542c"),{name:"MdItemSingle",dicts:["sys_yes_no","mes_item_product"],components:{Treeselect:s.a},data:function(){return{showFlag:!1,selectedItemId:void 0,selectedRows:void 0,single:!0,multiple:!0,showSearch:!0,total:0,itemList:null,itemTypeOptions:void 0,itemTypeName:void 0,defaultProps:{children:"children",label:"label"},queryParams:{pageNum:1,pageSize:10,itemCode:void 0,itemName:void 0,itemTypeId:0,enableFlag:"Y"},columns:[{key:0,label:"物料/产品编码",visible:!0},{key:1,label:"物料/产品名称",visible:!0},{key:2,label:"规格型号",visible:!0},{key:3,label:"单位",visible:!0},{key:4,label:"物料/产品",visible:!0},{key:5,label:"物料分类",visible:!0},{key:6,label:"创建时间",visible:!0}]}},watch:{itemTypeName:function(e){this.$refs.tree.filter(e)}},created:function(){this.getList(),this.getTreeselect()},methods:{handleOpen:function(e){this.showFlag=!0,this.selectedItemId=e,this.getList()},getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.itemList=t.rows,e.total=t.total,e.loading=!1}))},getTreeselect:function(){var e=this;Object(o["f"])().then((function(t){e.itemTypeOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.itemTypeId=e.id,this.handleQuery()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRows=e)},handleRowDbClick:function(e){e&&(this.selectedRows=e,this.$emit("onSelected",this.selectedRows),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRows=e)},confirmSelect:function(){null!=this.selectedItemId&&0!=this.selectedItemId?(this.$emit("onSelected",this.selectedRows),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}}),u=c,d=l("2877"),m=Object(d["a"])(u,a,n,!1,null,null,null);t["a"]=m.exports},"26ee":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"发货通知单选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.salesnoticelineList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.lineId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},[e._v(e._s(""))])]}}],null,!1,4087187773)}),l("el-table-column",{attrs:{label:"物资编码",width:"150px",align:"center",prop:"itemCode"}}),l("el-table-column",{attrs:{label:"物资名称",width:"200px",align:"center",prop:"itemName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"规格型号",align:"center",prop:"specification","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"单位名称",align:"center",prop:"unitName"}}),l("el-table-column",{attrs:{label:"批次号",align:"center",prop:"batchCode"}}),l("el-table-column",{attrs:{label:"发货数量",align:"center",prop:"quantitySales"}}),l("el-table-column",{attrs:{label:"是否检验",align:"center",prop:"oqcCheck"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.sys_yes_no,value:t.row.oqcCheck}})]}}],null,!1,1794622351)}),l("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("49d5"),o={name:"Salesnoticeline",dicts:["sys_yes_no"],props:{noticeId:null},data:function(){return{selectedId:null,showFlag:!1,loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,salesnoticelineList:[],queryParams:{pageNum:1,pageSize:10,noticeId:this.noticeId,itemId:null,itemCode:null,itemName:null,specification:null,unitOfMeasure:null,unitName:null,batchId:null,batchCode:null,quantitySales:null,oqcCheck:null}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.salesnoticelineList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},handleCurrent:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedId&&0!=this.selectedId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},"373b":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"工单选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[l("el-form-item",{attrs:{label:"工单编码",prop:"workorderCode"}},[l("el-input",{attrs:{placeholder:"请输入工单编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.workorderCode,callback:function(t){e.$set(e.queryParams,"workorderCode",t)},expression:"queryParams.workorderCode"}})],1),l("el-form-item",{attrs:{label:"工单名称",prop:"workorderName"}},[l("el-input",{attrs:{placeholder:"请输入工单名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.workorderName,callback:function(t){e.$set(e.queryParams,"workorderName",t)},expression:"queryParams.workorderName"}})],1),l("el-form-item",{attrs:{label:"产品编号",prop:"productCode"}},[l("el-input",{attrs:{placeholder:"请输入产品编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productCode,callback:function(t){e.$set(e.queryParams,"productCode",t)},expression:"queryParams.productCode"}})],1),l("el-form-item",{attrs:{label:"产品名称",prop:"productName"}},[l("el-input",{attrs:{placeholder:"请输入产品名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productName,callback:function(t){e.$set(e.queryParams,"productName",t)},expression:"queryParams.productName"}})],1),l("el-form-item",{attrs:{label:"客户名称",prop:"clientName"}},[l("el-input",{attrs:{placeholder:"请输入客户名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientName,callback:function(t){e.$set(e.queryParams,"clientName",t)},expression:"queryParams.clientName"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.workorderList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.workorderId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedWorkorderId,callback:function(t){e.selectedWorkorderId=t},expression:"selectedWorkorderId"}},[e._v(e._s(""))])]}}],null,!1,3172897139)}),l("el-table-column",{attrs:{label:"工单编码",width:"180",prop:"workorderCode"}}),l("el-table-column",{attrs:{label:"工单名称",width:"200",align:"center",prop:"workorderName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"工单来源",align:"center",prop:"orderSource"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.mes_workorder_sourcetype,value:t.row.orderSource}})]}}],null,!1,1545580001)}),l("el-table-column",{attrs:{label:"订单编号",width:"140",align:"center",prop:"sourceCode"}}),l("el-table-column",{attrs:{label:"产品编号",width:"120",align:"center",prop:"productCode"}}),l("el-table-column",{attrs:{label:"产品名称",width:"200",align:"center",prop:"productName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"规格型号",align:"center",prop:"productSpc","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"单位",align:"center",prop:"unitName"}}),l("el-table-column",{attrs:{label:"工单数量",align:"center",prop:"quantity"}}),l("el-table-column",{attrs:{label:"客户编码",align:"center",prop:"clientCode"}}),l("el-table-column",{attrs:{label:"客户名称",align:"center",prop:"clientName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"需求日期",align:"center",prop:"requestDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.requestDate,"{y}-{m}-{d}")))])]}}],null,!1,2881072280)})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("f1e6"),o={name:"WorkOrderSelectSingle",components:{},dicts:["mes_order_status","mes_workorder_sourcetype"],props:{workorder:{type:Object,default:function(){return{workorderType:"SELF"}}}},data:function(){return{showFlag:!1,loading:!0,selectedWorkorderId:void 0,selectedRows:[],single:!0,multiple:!0,showSearch:!0,total:0,workorderList:[],title:"",open:!1,queryParams:{workorderCode:null,workorderName:null,workorderType:this.workorder.workorderType,orderSource:null,sourceCode:null,productId:null,productCode:null,productName:null,productSpc:null,unitOfMeasure:null,quantity:null,quantityProduced:null,quantityChanged:null,quantityScheduled:null,clientId:null,clientCode:null,clientName:null,requestDate:null,parentId:null,ancestors:null,status:"CONFIRMED"}}},created:function(){this.getList()},methods:{handleOpen:function(e){this.showFlag=!0,this.selectedWorkorderId=e},getList:function(){var e=this;this.loading=!0,Object(r["i"])(this.queryParams).then((function(t){e.workorderList=t.rows,e.loading=!1}))},handleQuery:function(){this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRows=e)},handleRowChange:function(e){e&&(this.selectedRows=e)},handleRowDbClick:function(e){e&&(this.selectedRows=e,this.$emit("onSelected",this.selectedRows),this.showFlag=!1)},confirmSelect:function(){null!=this.selectedWorkorderId&&0!=this.selectedWorkorderId?(this.$emit("onSelected",this.selectedRows),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},"4fb9":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"库存物资选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4,xs:24}},[l("div",{staticClass:"head-container"},[l("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入分类名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.itemTypeName,callback:function(t){e.itemTypeName=t},expression:"itemTypeName"}})],1),l("div",{staticClass:"head-container"},[l("el-tree",{ref:"tree",attrs:{data:e.itemTypeOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),l("el-col",{attrs:{span:20,xs:24}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"90px"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"物资编码",prop:"itemCode"}},[l("el-input",{attrs:{placeholder:"请输入产品物料编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemCode,callback:function(t){e.$set(e.queryParams,"itemCode",t)},expression:"queryParams.itemCode"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"物资名称",prop:"itemName"}},[l("el-input",{attrs:{placeholder:"请输入产品物料名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemName,callback:function(t){e.$set(e.queryParams,"itemName",t)},expression:"queryParams.itemName"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"批次号",prop:"batchCode"}},[l("el-input",{attrs:{placeholder:"请输入批次号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.batchCode,callback:function(t){e.$set(e.queryParams,"batchCode",t)},expression:"queryParams.batchCode"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"仓库名称",prop:"warehouseName"}},[l("el-input",{attrs:{placeholder:"请输入仓库名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.warehouseName,callback:function(t){e.$set(e.queryParams,"warehouseName",t)},expression:"queryParams.warehouseName"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"供应商编号",prop:"vendorCode"}},[l("el-input",{attrs:{placeholder:"请输入供应商编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorCode,callback:function(t){e.$set(e.queryParams,"vendorCode",t)},expression:"queryParams.vendorCode"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"供应商名称",prop:"vendorName"}},[l("el-input",{attrs:{placeholder:"请输入供应商名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorName,callback:function(t){e.$set(e.queryParams,"vendorName",t)},expression:"queryParams.vendorName"}})],1)],1)],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-row",{staticClass:"mb8",attrs:{gutter:10}},[l("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}})],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.wmstockList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.materialStockId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},[e._v(e._s(""))])]}}],null,!1,3066558328)}),l("el-table-column",{attrs:{label:"产品物料编码",width:"120px",align:"center",prop:"itemCode"}}),l("el-table-column",{attrs:{label:"产品物料名称",width:"150px",align:"center",prop:"itemName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"规格型号",align:"center",prop:"specification","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"单位",align:"center",prop:"unitName"}}),l("el-table-column",{attrs:{label:"入库批次号",width:"100px",align:"center",prop:"batchCode","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"仓库",align:"center",prop:"warehouseName"}}),l("el-table-column",{attrs:{label:"库区",align:"center",prop:"locationName"}}),l("el-table-column",{attrs:{label:"库位",align:"center",prop:"areaName"}}),l("el-table-column",{attrs:{label:"在库数量",align:"center",prop:"quantityOnhand"}}),l("el-table-column",{attrs:{label:"入库日期",align:"center",prop:"recptDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.recptDate,"{y}-{m}-{d}")))])]}}],null,!1,2646074617)})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=(l("4de4"),l("e9f5"),l("910d"),l("d3b7"),l("7dd7")),o=l("4a8f"),i=l("ca17"),s=l.n(i),c=(l("542c"),{name:"WmstockMultiSelect",components:{Treeselect:s.a},data:function(){return{showFlag:!1,loading:!0,selectedId:null,selectedRow:null,single:!0,multiple:!0,showSearch:!0,itemTypeName:void 0,total:0,itemTypeOptions:void 0,wmstockList:[],title:"",open:!1,defaultProps:{children:"children",label:"label"},queryParams:{pageNum:1,pageSize:10,itemTypeId:null,itemTypeName:null,itemId:this.itemId,itemCode:this.itemCode,itemName:null,specification:null,unitOfMeasure:null,unitName:null,batchId:this.batchId,batchCode:this.batchCode,warehouseId:this.warehouseId,warehouseCode:this.warehouseCode,warehouseName:null,locationId:this.locationId,locationCode:this.locationCode,locationName:null,areaId:this.areaId,areaCode:this.areaCode,areaName:null,vendorId:this.vendorId,vendorCode:null,vendorName:null,vendorNick:null,clientId:null,clientCode:null,clientName:null,workorderId:this.workorderId,quantityOnhand:null,expireDate:null},form:{}}},props:{vendorId:null,batchId:null,batchCode:null,warehouseId:null,warehouseCode:null,locationId:null,locationCode:null,areaId:null,areaCode:null,workorderId:null,itemId:null,itemCode:null},watch:{itemId:function(e){this.queryParams.itemId=e},itemCode:function(e){this.queryParams.itemCode=e},batchId:function(){this.queryParams.batchId=newVal},batchCode:function(e){this.queryParams.batchCode=e},warehouseId:function(e){this.queryParams.warehouseId=e},warehouseCode:function(e){this.queryParams.warehouseCode=e},locationId:function(e){this.queryParams.locationId=e},locationCode:function(e){this.queryParams.locationCode=e},areaId:function(e){this.queryParams.areaId=e},areaCode:function(e){this.queryParams.areaCode=e},workorderId:function(e){this.queryParams.workorderId=e},vendorId:function(e){this.queryParams.vendorId=e}},created:function(){this.getList(),this.getTreeselect()},methods:{handleOpen:function(e){this.showFlag=!0,this.selectedId=e,this.getList()},getList:function(){var e=this;this.loading=!0,Object(r["b"])(this.queryParams).then((function(t){t.rows&&(null!=e.warehouseCode&&void 0!=e.warehouseCode&&e.warehouseCode.indexOf("VIR")>0?e.wmstockList=t.rows:e.wmstockList=t.rows.filter((function(e){return-1==e.warehouseCode.indexOf("VIR")})),e.total=t.total,e.loading=!1)}))},getTreeselect:function(){var e=this;Object(o["f"])().then((function(t){e.itemTypeOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.itemTypeId=e.id,this.handleQuery()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRow=e)},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedId&&0!=this.selectedId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}}),u=c,d=l("2877"),m=Object(d["a"])(u,a,n,!1,null,null,null);t["a"]=m.exports},"5bea":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"到货通知单选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.arrivalnoticelineList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.lineId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},[e._v(e._s(""))])]}}],null,!1,4087187773)}),l("el-table-column",{attrs:{label:"物料编码",width:"120px",align:"center",prop:"itemCode"}}),l("el-table-column",{attrs:{label:"物料名称",width:"150px",align:"center",prop:"itemName"}}),l("el-table-column",{attrs:{label:"规格型号",align:"center",prop:"specification"}}),l("el-table-column",{attrs:{label:"单位",align:"center",prop:"unitName"}}),l("el-table-column",{attrs:{label:"到货数量",align:"center",prop:"quantityArrival"}}),l("el-table-column",{attrs:{label:"是否检验",align:"center",prop:"iqcCheck"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.sys_yes_no,value:t.row.iqcCheck}})]}}],null,!1,3271903689)}),l("el-table-column",{attrs:{label:"合格数量",align:"center",prop:"quantityQuanlified"}}),l("el-table-column",{attrs:{label:"检验单号",align:"center",prop:"iqcCode"}}),l("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("62cd"),o={name:"Arrivalnoticeline",dicts:["sys_yes_no"],props:{noticeId:null},data:function(){return{showFlag:!1,selectedId:null,loading:!0,single:!0,multiple:!0,showSearch:!0,total:0,arrivalnoticelineList:[],queryParams:{pageNum:1,pageSize:10,noticeId:this.noticeId,itemId:null,itemCode:null,itemName:null,specification:null,unitOfMeasure:null,quantityArrival:null,quantityQuanlified:null,iqcCheck:null,iqcId:null,iqcCode:null}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.arrivalnoticelineList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},handleCurrent:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedId&&0!=this.selectedId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},6210:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"flex-container"},[l("el-image",{ref:"image",staticClass:"barcodeClass",attrs:{fit:"scale-down",src:e.barcodeUrl}},[l("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[l("i",{staticClass:"el-icon-picture-outline"})])])],1)},n=[],r=(l("a9e3"),l("2ce8")),o={name:"BarcodeImg",props:{bussinessId:{type:Number,default:-1},bussinessCode:{type:String,default:null},barcodeFormart:{type:String,default:"QR_CODE"},barcodeType:{type:String,default:null}},data:function(){return{form:{barcodeUrl:null},barcodeUrl:""}},methods:{getBarcode:function(){var e=this;if(console.log("---------------------",this.barcodeType),this.form.barcodeUrl=null,null!=this.bussinessCode){var t={bussinessId:this.bussinessId,bussinessCode:this.bussinessCode,barcodeFormart:this.barcodeFormart,barcodeType:this.barcodeType};Object(r["d"])(t).then((function(t){console.log(t,"59"),null!=t.data&&(e.barcodeUrl=t.data.barcodeUrl,console.log(e.barcodeUrl,"63"))}))}}},watch:{bussinessCode:"getBarcode"}},i=o,s=(l("6dd1"),l("2877")),c=Object(s["a"])(i,a,n,!1,null,"b75332ae",null);t["a"]=c.exports},"62b7":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[e.showFlag?l("el-dialog",{attrs:{title:"批次选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"批次编号",prop:"batchCode"}},[l("el-input",{attrs:{placeholder:"请输入批次编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.batchCode,callback:function(t){e.$set(e.queryParams,"batchCode",t)},expression:"queryParams.batchCode"}})],1),l("el-form-item",{attrs:{label:"产品物料编码",prop:"itemCode"}},[l("el-input",{attrs:{placeholder:"请输入产品物料编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemCode,callback:function(t){e.$set(e.queryParams,"itemCode",t)},expression:"queryParams.itemCode"}})],1),l("el-form-item",{attrs:{label:"产品物料名称",prop:"itemName"}},[l("el-input",{attrs:{placeholder:"请输入产品物料名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemName,callback:function(t){e.$set(e.queryParams,"itemName",t)},expression:"queryParams.itemName"}})],1),l("el-form-item",{attrs:{label:"单位",prop:"unitOfMeasure"}},[l("el-input",{attrs:{placeholder:"请输入单位",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.unitOfMeasure,callback:function(t){e.$set(e.queryParams,"unitOfMeasure",t)},expression:"queryParams.unitOfMeasure"}})],1),l("el-form-item",{attrs:{label:"生产日期",prop:"produceDate"}},[l("el-date-picker",{attrs:{clearable:"",type:"date","value-format":"yyyy-MM-dd",placeholder:"请选择生产日期"},model:{value:e.queryParams.produceDate,callback:function(t){e.$set(e.queryParams,"produceDate",t)},expression:"queryParams.produceDate"}})],1),l("el-form-item",{attrs:{label:"有效期",prop:"expireDate"}},[l("el-date-picker",{attrs:{clearable:"",type:"date","value-format":"yyyy-MM-dd",placeholder:"请选择有效期"},model:{value:e.queryParams.expireDate,callback:function(t){e.$set(e.queryParams,"expireDate",t)},expression:"queryParams.expireDate"}})],1),l("el-form-item",{attrs:{label:"入库日期",prop:"recptDate"}},[l("el-date-picker",{attrs:{clearable:"",type:"date","value-format":"yyyy-MM-dd",placeholder:"请选择入库日期"},model:{value:e.queryParams.recptDate,callback:function(t){e.$set(e.queryParams,"recptDate",t)},expression:"queryParams.recptDate"}})],1),l("el-form-item",{attrs:{label:"供应商编码",prop:"vendorCode"}},[l("el-input",{attrs:{placeholder:"请输入供应商编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorCode,callback:function(t){e.$set(e.queryParams,"vendorCode",t)},expression:"queryParams.vendorCode"}})],1),l("el-form-item",{attrs:{label:"供应商名称",prop:"vendorName"}},[l("el-input",{attrs:{placeholder:"请输入供应商名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorName,callback:function(t){e.$set(e.queryParams,"vendorName",t)},expression:"queryParams.vendorName"}})],1),l("el-form-item",{attrs:{label:"供应商简称",prop:"vendorNick"}},[l("el-input",{attrs:{placeholder:"请输入供应商简称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorNick,callback:function(t){e.$set(e.queryParams,"vendorNick",t)},expression:"queryParams.vendorNick"}})],1),l("el-form-item",{attrs:{label:"客户编码",prop:"clientCode"}},[l("el-input",{attrs:{placeholder:"请输入客户编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientCode,callback:function(t){e.$set(e.queryParams,"clientCode",t)},expression:"queryParams.clientCode"}})],1),l("el-form-item",{attrs:{label:"客户名称",prop:"clientName"}},[l("el-input",{attrs:{placeholder:"请输入客户名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientName,callback:function(t){e.$set(e.queryParams,"clientName",t)},expression:"queryParams.clientName"}})],1),l("el-form-item",{attrs:{label:"客户简称",prop:"clientNick"}},[l("el-input",{attrs:{placeholder:"请输入客户简称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientNick,callback:function(t){e.$set(e.queryParams,"clientNick",t)},expression:"queryParams.clientNick"}})],1),l("el-form-item",{attrs:{label:"销售订单编号",prop:"coCode"}},[l("el-input",{attrs:{placeholder:"请输入销售订单编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.coCode,callback:function(t){e.$set(e.queryParams,"coCode",t)},expression:"queryParams.coCode"}})],1),l("el-form-item",{attrs:{label:"采购订单编号",prop:"poCode"}},[l("el-input",{attrs:{placeholder:"请输入采购订单编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.poCode,callback:function(t){e.$set(e.queryParams,"poCode",t)},expression:"queryParams.poCode"}})],1),l("el-form-item",{attrs:{label:"生产工单编码",prop:"workorderCode"}},[l("el-input",{attrs:{placeholder:"请输入生产工单编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.workorderCode,callback:function(t){e.$set(e.queryParams,"workorderCode",t)},expression:"queryParams.workorderCode"}})],1),l("el-form-item",{attrs:{label:"生产任务编号",prop:"taskCode"}},[l("el-input",{attrs:{placeholder:"请输入生产任务编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.taskCode,callback:function(t){e.$set(e.queryParams,"taskCode",t)},expression:"queryParams.taskCode"}})],1),l("el-form-item",{attrs:{label:"工作站编码",prop:"workstationCode"}},[l("el-input",{attrs:{placeholder:"请输入工作站编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.workstationCode,callback:function(t){e.$set(e.queryParams,"workstationCode",t)},expression:"queryParams.workstationCode"}})],1),l("el-form-item",{attrs:{label:"工具编号",prop:"toolCode"}},[l("el-input",{attrs:{placeholder:"请输入工具编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.toolCode,callback:function(t){e.$set(e.queryParams,"toolCode",t)},expression:"queryParams.toolCode"}})],1),l("el-form-item",{attrs:{label:"模具编号",prop:"moldCode"}},[l("el-input",{attrs:{placeholder:"请输入模具编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.moldCode,callback:function(t){e.$set(e.queryParams,"moldCode",t)},expression:"queryParams.moldCode"}})],1),l("el-form-item",{attrs:{label:"生产批号",prop:"productCode"}},[l("el-input",{attrs:{placeholder:"请输入生产批号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.productCode,callback:function(t){e.$set(e.queryParams,"productCode",t)},expression:"queryParams.productCode"}})],1),l("el-form-item",{attrs:{label:"质量状态",prop:"qualityStatus"}},[l("el-select",{attrs:{placeholder:"请选择质量状态",clearable:""},model:{value:e.queryParams.qualityStatus,callback:function(t){e.$set(e.queryParams,"qualityStatus",t)},expression:"queryParams.qualityStatus"}},[l("el-option",{attrs:{label:"请选择字典生成",value:""}})],1)],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.batchList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.batchId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},[e._v(e._s(""))])]}}],null,!1,1804974351)}),l("el-table-column",{attrs:{label:"批次编号",width:"120",align:"center",prop:"batchCode"}}),l("el-table-column",{attrs:{label:"物资编码",width:"150",align:"center",prop:"itemCode"}}),l("el-table-column",{attrs:{label:"物资名称",width:"150",align:"center",prop:"itemName"}}),l("el-table-column",{attrs:{label:"供应商编码",align:"center",prop:"vendorCode"}}),l("el-table-column",{attrs:{label:"供应商名称",align:"center",prop:"vendorName"}}),l("el-table-column",{attrs:{label:"客户编码",align:"center",prop:"clientCode"}}),l("el-table-column",{attrs:{label:"客户名称",align:"center",prop:"clientName"}}),l("el-table-column",{attrs:{label:"销售订单编号",align:"center",prop:"coCode"}}),l("el-table-column",{attrs:{label:"采购订单编号",align:"center",prop:"poCode"}}),l("el-table-column",{attrs:{label:"生产工单编码",align:"center",prop:"workorderCode"}}),l("el-table-column",{attrs:{label:"生产任务编号",align:"center",prop:"taskCode"}}),l("el-table-column",{attrs:{label:"工作站编码",align:"center",prop:"workstationCode"}}),l("el-table-column",{attrs:{label:"工具编号",align:"center",prop:"toolCode"}}),l("el-table-column",{attrs:{label:"模具编号",align:"center",prop:"moldCode"}}),l("el-table-column",{attrs:{label:"生产批号",align:"center",prop:"lotNumber"}}),l("el-table-column",{attrs:{label:"质量状态",align:"center",prop:"qualityStatus"}}),l("el-table-column",{attrs:{label:"生产日期",align:"center",prop:"produceDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.produceDate,"{y}-{m}-{d}")))])]}}],null,!1,677784883)}),l("el-table-column",{attrs:{label:"有效期",align:"center",prop:"expireDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.expireDate,"{y}-{m}-{d}")))])]}}],null,!1,2939117882)}),l("el-table-column",{attrs:{label:"入库日期",align:"center",prop:"recptDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.recptDate,"{y}-{m}-{d}")))])]}}],null,!1,2646074617)})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()],1)},n=[],r=l("a33d"),o={name:"Batch",props:{itemId:null,itemCode:null,itemName:null,vendorId:null,vendorCode:null,vendorName:null,clientId:null,clientCode:null,clientName:null,poCode:null,coCode:null,workorderId:null,workorderCode:null,taskId:null,taskCode:null,workstationId:null,workstationCode:null,toolId:null,toolCode:null,moldId:null,moldCode:null,qualityStatus:null,lotNumber:null},watch:{itemId:function(e){this.queryParams.itemId=e},itemCode:function(e){this.queryParams.itemCode=e},itemName:function(e){this.queryParams.itemName=e},vendorId:function(e){this.queryParams.vendorId=e},vendorCode:function(e){this.queryParams.vendorCode=e},vendorName:function(e){this.queryParams.vendorName=e},clientId:function(e){this.queryParams.clientId=e},clientCode:function(e){this.queryParams.clientCode=e},clientName:function(e){this.queryParams.clientName=e},poCode:function(e){this.queryParams.poCode=e},coCode:function(e){this.queryParams.coCode=e},workorderId:function(e){this.queryParams.workorderId=e},workorderCode:function(e){this.queryParams.workorderCode=e},taskId:function(e){this.queryParams.taskId=e},taskCode:function(e){this.queryParams.taskCode=e},workstationId:function(e){this.queryParams.workstationId=e},workstationCode:function(e){this.queryParams.workstationCode=e},toolId:function(e){this.queryParams.toolId=e},toolCode:function(e){this.queryParams.toolCode=e}},data:function(){return{showFlag:!1,selectedId:void 0,selectedRow:void 0,loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,batchList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,batchCode:null,itemId:this.itemId,itemCode:this.itemCode,itemName:this.itemName,specification:null,unitOfMeasure:null,produceDate:null,expireDate:null,recptDate:null,vendorId:this.vendorId,vendorCode:this.vendorCode,vendorName:this.vendorName,vendorNick:null,clientId:this.clientId,clientCode:this.clientCode,clientName:this.clientName,clientNick:null,coCode:this.coCode,poCode:this.poCode,workorderId:this.workorderId,workorderCode:this.workorderCode,taskId:this.taskId,taskCode:this.taskCode,workstationId:this.workstationId,workstationCode:this.workorderCode,toolId:this.toolId,toolCode:this.toolCode,moldId:this.moldId,moldCode:this.moldCode,lotNumber:this.lotNumber,qualityStatus:this.qualityStatus}}},created:function(){this.getList()},methods:{handleOpen:function(e){this.showFlag=!0,this.selectedId=e,this.getList()},getList:function(){var e=this;this.loading=!0,Object(r["e"])(this.queryParams).then((function(t){e.batchList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRow=e)},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedId&&0!=this.selectedId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},"6dd1":function(e,t,l){"use strict";l("746d")},"726a":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"子箱选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"装箱单编号",prop:"packageCode"}},[l("el-input",{attrs:{placeholder:"请输入装箱单编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.packageCode,callback:function(t){e.$set(e.queryParams,"packageCode",t)},expression:"queryParams.packageCode"}})],1),l("el-form-item",{attrs:{label:"条码内容",prop:"barcodeContent"}},[l("el-input",{attrs:{placeholder:"请输入条码内容",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.barcodeContent,callback:function(t){e.$set(e.queryParams,"barcodeContent",t)},expression:"queryParams.barcodeContent"}})],1),l("el-form-item",{attrs:{label:"销售订单编号",prop:"soCode"}},[l("el-input",{attrs:{placeholder:"请输入销售订单编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.soCode,callback:function(t){e.$set(e.queryParams,"soCode",t)},expression:"queryParams.soCode"}})],1),l("el-form-item",{attrs:{label:"客户名称",prop:"clientName"}},[l("el-input",{attrs:{placeholder:"请输入客户名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientName,callback:function(t){e.$set(e.queryParams,"clientName",t)},expression:"queryParams.clientName"}})],1),l("el-form-item",{attrs:{label:"检查员名称",prop:"inspectorName"}},[l("el-input",{attrs:{placeholder:"请输入检查员名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.inspectorName,callback:function(t){e.$set(e.queryParams,"inspectorName",t)},expression:"queryParams.inspectorName"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.packageList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.packageId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedPackageId,callback:function(t){e.selectedPackageId=t},expression:"selectedPackageId"}},[e._v(e._s(""))])]}}],null,!1,3137001715)}),l("el-table-column",{attrs:{label:"装箱单编号",width:"150px",align:"center",prop:"packageCode"}}),l("el-table-column",{attrs:{label:"装箱日期",align:"center",prop:"packageDate",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.packageDate,"{y}-{m}-{d}")))])]}}],null,!1,3013008243)}),l("el-table-column",{attrs:{label:"销售订单编号",width:"100px",align:"center",prop:"soCode"}}),l("el-table-column",{attrs:{label:"发票编号",align:"center",prop:"invoiceCode"}}),l("el-table-column",{attrs:{label:"客户编码",align:"center",prop:"clientCode"}}),l("el-table-column",{attrs:{label:"客户名称",width:"120px",align:"center",prop:"clientName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"箱长度",align:"center",prop:"packageLength"}}),l("el-table-column",{attrs:{label:"箱宽度",align:"center",prop:"packageWidth"}}),l("el-table-column",{attrs:{label:"箱高度",align:"center",prop:"packageHeight"}}),l("el-table-column",{attrs:{label:"尺寸单位",align:"center",prop:"sizeUnit"}}),l("el-table-column",{attrs:{label:"净重",align:"center",prop:"netWeight"}}),l("el-table-column",{attrs:{label:"毛重",align:"center",prop:"crossWeight"}}),l("el-table-column",{attrs:{label:"重量单位",align:"center",prop:"weightUnit"}}),l("el-table-column",{attrs:{label:"检查员",align:"center",prop:"inspectorName"}}),l("el-table-column",{attrs:{label:"是否启用",align:"center",prop:"enableFlag"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.sys_yes_no,value:t.row.enableFlag}})]}}],null,!1,4213365913)}),l("el-table-column",{attrs:{label:"操作",align:"center","class-name":"small-padding fixed-width"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["mes:wm:package:edit"],expression:"['mes:wm:package:edit']"}],attrs:{size:"mini",type:"text",icon:"el-icon-edit"},on:{click:function(l){return e.handleUpdate(t.row)}}},[e._v("修改")]),l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["mes:wm:package:remove"],expression:"['mes:wm:package:remove']"}],attrs:{size:"mini",type:"text",icon:"el-icon-delete"},on:{click:function(l){return e.handleDelete(t.row)}}},[e._v("删除")])]}}],null,!1,1794816010)})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("1ab2"),o={name:"PackageSelectSingle",dicts:["sys_yes_no"],props:{parentId:null,clientId:null,clientCode:null},data:function(){return{showFlag:!1,selectedPackageId:void 0,selectedRow:void 0,loading:!0,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,packageList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,parentId:this.parentId,ancestors:"0",packageCode:null,barcodeId:null,barcodeContent:null,barcodeUrl:null,packageDate:null,soCode:null,invoiceCode:null,clientId:this.clientId,clientCode:this.clientCode,clientName:null,clientNick:null,packageLength:null,packageWidth:null,packageHeight:null,sizeUnit:null,netWeight:null,crossWeight:null,weightUnit:null,inspector:null,inspectorName:null,enableFlag:null,status:"FINISHED"}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["e"])(this.queryParams).then((function(t){e.packageList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRow=e)},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedPackageId&&0!=this.selectedPackageId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},"746d":function(e,t,l){},7672:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-select",{model:{value:e.selectedValue,callback:function(t){e.selectedValue=t},expression:"selectedValue"}},e._l(e.dict,(function(t,a){return l("el-option",{key:t.dictValue,attrs:{label:t.dictLabel,value:t.dictValue}},[e._v(e._s(t.dictLabel))])})),1)],1)},n=[],r=(l("e9f5"),l("a732"),l("d3b7"),l("aa3a")),o=(l("1f94"),{props:{dictName:{type:String,required:!0},initialValue:{type:String,default:null}},data:function(){return{selectedValue:this.initialValue,queryParams:{dictType:this.dictName},dict:{}}},watch:{selectedValue:function(e){this.$emit("input",e)}},created:function(){this.getDictionary(this.dictName)},methods:{getDictionary:function(e){var t=this;Object(r["d"])(e).then((function(e){t.dict=e.data,t.initialValue&&t.dict.some((function(e){return e.dictValue===t.initialValue}))?t.selectedValue=t.initialValue:t.selectedValue=null}))}}}),i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},"7dc7":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"设备选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4,xs:24}},[l("div",{staticClass:"head-container"},[l("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入分类名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.machineryTypeName,callback:function(t){e.machineryTypeName=t},expression:"machineryTypeName"}})],1),l("div",{staticClass:"head-container"},[l("el-tree",{ref:"tree",attrs:{data:e.machineryTypeOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),l("el-col",{attrs:{span:20,xs:24}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[l("el-form-item",{attrs:{label:"设备编码",prop:"machineryCode"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入设备编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.machineryCode,callback:function(t){e.$set(e.queryParams,"machineryCode",t)},expression:"queryParams.machineryCode"}})],1),l("el-form-item",{attrs:{label:"设备名称",prop:"machineryName"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入设备名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.machineryName,callback:function(t){e.$set(e.queryParams,"machineryName",t)},expression:"queryParams.machineryName"}})],1),l("el-form-item",{attrs:{label:"所属车间",prop:"workshopName"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入所属车间",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.workshopName,callback:function(t){e.$set(e.queryParams,"workshopName",t)},expression:"queryParams.workshopName"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.machineryList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.machineryId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedMachineryId,callback:function(t){e.selectedMachineryId=t},expression:"selectedMachineryId"}},[e._v(e._s(""))])]}}],null,!1,3341566963)}),l("el-table-column",{key:"machineryCode",attrs:{label:"设备编码",width:"120",align:"center",prop:"machineryCode"}}),l("el-table-column",{key:"machineryName",attrs:{label:"设备名称","min-width":"120",align:"left",prop:"machineryName","show-overflow-tooltip":!0}}),l("el-table-column",{key:"machineryBrand",attrs:{label:"品牌",align:"left",prop:"machineryBrand","show-overflow-tooltip":!0}}),l("el-table-column",{key:"machinerySpec",attrs:{label:"规格型号",align:"left",prop:"machinerySpec","show-overflow-tooltip":!0}}),l("el-table-column",{key:"workshopName",attrs:{label:"所属车间",align:"center",prop:"workshopName","show-overflow-tooltip":!0}}),l("el-table-column",{key:"status",attrs:{label:"设备状态",align:"center",prop:"status"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.mes_machinery_status,value:t.row.status}})]}}],null,!1,3744143670)}),l("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=(l("4de4"),l("14d9"),l("e9f5"),l("910d"),l("d3b7"),l("66e4")),o=l("a15c"),i=l("dfb9"),s=l("ca17"),c=l.n(s),u=(l("542c"),{name:"MachinerySelectSingle",dicts:["sys_yes_no","mes_machinery_status"],components:{Treeselect:c.a},data:function(){return{showFlag:!1,loading:!0,selectedMachineryId:void 0,selectedRows:[],single:!0,multiple:!0,showSearch:!0,total:0,machineryList:[],title:"",machineryTypeOptions:[],workshopOptions:[],open:!1,machineryTypeName:void 0,autoGenFlag:!1,form:{},defaultProps:{children:"children",label:"machineryTypeName"},queryParams:{pageNum:1,pageSize:10,machineryCode:null,machineryName:null,machineryBrand:null,machinerySpec:null,machineryTypeId:null,machineryTypeCode:null,machineryTypeName:null,workshopId:null,workshopCode:null,workshopName:null,status:null}}},watch:{machineryTypeName:function(e){this.$refs.tree.filter(e)}},created:function(){this.getList(),this.getTreeselect()},methods:{handleOpen:function(e){this.showFlag=!0,this.selectedMachineryId=e},getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.machineryList=t.rows,e.total=t.total,e.loading=!1}))},getWorkshops:function(){var e=this;Object(i["d"])().then((function(t){e.workshopOptions=t.data}))},normalizer:function(e){return e.children&&!e.children.length&&delete e.children,{id:e.machineryTypeId,label:e.machineryTypeName,children:e.children}},getTreeselect:function(){var e=this;Object(o["d"])().then((function(t){e.machineryTypeOptions=[];var l=e.handleTree(t.data,"machineryTypeId","parentTypeId")[0];e.machineryTypeOptions.push(l)}))},filterNode:function(e,t){return!e||-1!==t.machineryTypeName.indexOf(e)},handleNodeClick:function(e){this.queryParams.machineryTypeId=e.machineryTypeId,this.handleQuery()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRows=e)},handleRowDbClick:function(e){e&&(this.selectedRows=e,this.$emit("onSelected",this.selectedRows),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRows=e)},confirmSelect:function(){null!=this.selectedMachineryId&&0!=this.selectedMachineryId?(this.$emit("onSelected",this.selectedRows),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}}),d=u,m=l("2877"),p=Object(m["a"])(d,a,n,!1,null,null,null);t["a"]=p.exports},8063:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"设备点检保养项目选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[l("el-form-item",{attrs:{label:"项目编码",prop:"subjectCode"}},[l("el-input",{attrs:{placeholder:"请输入项目编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.subjectCode,callback:function(t){e.$set(e.queryParams,"subjectCode",t)},expression:"queryParams.subjectCode"}})],1),l("el-form-item",{attrs:{label:"项目名称",prop:"subjectName"}},[l("el-input",{attrs:{placeholder:"请输入项目名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.subjectName,callback:function(t){e.$set(e.queryParams,"subjectName",t)},expression:"queryParams.subjectName"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.dvsubjectList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.subjectId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},[e._v(e._s(""))])]}}],null,!1,325902991)}),l("el-table-column",{attrs:{label:"项目编码",align:"center",prop:"subjectCode"}}),l("el-table-column",{attrs:{label:"项目名称",align:"center",prop:"subjectName"}}),l("el-table-column",{attrs:{label:"项目内容",align:"center",prop:"subjectContent","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"标准",align:"center",prop:"subjectStandard","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("995c"),o={name:"DvsubjectSelect",dicts:["sys_yes_no","mes_dvsubject_type"],props:{subjectType:null},data:function(){return{showFlag:!1,loading:!0,selectedId:void 0,selectedRow:void 0,single:!0,multiple:!0,showSearch:!0,total:0,dvsubjectList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,subjectCode:null,subjectName:null,subjectType:this.subjectType,subjectContent:null,subjectStandard:null,enableFlag:null},form:{}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.dvsubjectList=t.rows,e.total=t.total,e.loading=!1}))},resetQuery:function(){this.queryParams={},this.queryParams.pageNum=1,this.queryParams.pageSize=10,this.queryParams.subjectType=this.subjectType,this.getList()},handleQuery:function(){this.queryParams.pageNum=1,this.queryParams.pageSize=10,this.getList()},handleCurrent:function(e){e&&(this.selectedRow=e)},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedId&&0!=this.selectedId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},8198:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"人员选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4,xs:24}},[l("div",{staticClass:"head-container"},[l("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入部门名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.deptName,callback:function(t){e.deptName=t},expression:"deptName"}})],1),l("div",{staticClass:"head-container"},[l("el-tree",{ref:"tree",attrs:{data:e.deptOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),l("el-col",{attrs:{span:20,xs:24}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[l("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入用户名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.userName,callback:function(t){e.$set(e.queryParams,"userName",t)},expression:"queryParams.userName"}})],1),l("el-form-item",{attrs:{label:"手机号码",prop:"phonenumber"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入手机号码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.phonenumber,callback:function(t){e.$set(e.queryParams,"phonenumber",t)},expression:"queryParams.phonenumber"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.userList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.userId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},[e._v(e._s(""))])]}}],null,!1,2526861826)}),e.columns[1].visible?l("el-table-column",{key:"userName",attrs:{label:"用户名称",align:"center",prop:"userName","show-overflow-tooltip":!0}}):e._e(),e.columns[2].visible?l("el-table-column",{key:"nickName",attrs:{label:"用户昵称",align:"center",prop:"nickName","show-overflow-tooltip":!0}}):e._e(),e.columns[3].visible?l("el-table-column",{key:"deptName",attrs:{label:"部门",align:"center",prop:"dept.deptName","show-overflow-tooltip":!0}}):e._e(),e.columns[4].visible?l("el-table-column",{key:"phonenumber",attrs:{label:"手机号码",align:"center",prop:"phonenumber",width:"120"}}):e._e(),e.columns[6].visible?l("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e()],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=(l("4de4"),l("e9f5"),l("910d"),l("d3b7"),l("c0c7")),o=(l("5f87"),l("fcb7")),i=l("ca17"),s=l.n(i),c=(l("542c"),{name:"UserSingleSelect",dicts:["sys_normal_disable","sys_user_sex"],components:{Treeselect:s.a},data:function(){return{showFlag:!1,loading:!0,selectedId:null,selectedRow:null,single:!0,multiple:!0,showSearch:!0,total:0,userList:null,title:"",deptOptions:void 0,open:!1,deptName:void 0,dateRange:[],postOptions:[],roleOptions:[],form:{},defaultProps:{children:"children",label:"label"},queryParams:{pageNum:1,pageSize:10,userName:void 0,phonenumber:void 0,status:void 0,deptId:void 0},columns:[{key:0,label:"用户编号",visible:!0},{key:1,label:"用户名称",visible:!0},{key:2,label:"用户昵称",visible:!0},{key:3,label:"部门",visible:!0},{key:4,label:"手机号码",visible:!0},{key:5,label:"状态",visible:!0},{key:6,label:"创建时间",visible:!0}]}},watch:{deptName:function(e){this.$refs.tree.filter(e)}},created:function(){this.getList(),this.getTreeselect()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["g"])(this.addDateRange(this.queryParams,this.dateRange)).then((function(t){e.userList=t.rows,e.total=t.total,e.loading=!1}))},getTreeselect:function(){var e=this;Object(o["g"])().then((function(t){e.deptOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.deptId=e.id,this.handleQuery()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.dateRange=[],this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRow=e)},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedId&&0!=this.selectedId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}}),u=c,d=l("2877"),m=Object(d["a"])(u,a,n,!1,null,null,null);t["a"]=m.exports},"99eb":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"物料产品选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-row",{attrs:{gutter:20}},[l("el-col",{attrs:{span:4,xs:24}},[l("div",{staticClass:"head-container"},[l("el-input",{staticStyle:{"margin-bottom":"20px"},attrs:{placeholder:"请输入分类名称",clearable:"",size:"small","prefix-icon":"el-icon-search"},model:{value:e.itemTypeName,callback:function(t){e.itemTypeName=t},expression:"itemTypeName"}})],1),l("div",{staticClass:"head-container"},[l("el-tree",{ref:"tree",attrs:{data:e.itemTypeOptions,props:e.defaultProps,"expand-on-click-node":!1,"filter-node-method":e.filterNode,"default-expand-all":""},on:{"node-click":e.handleNodeClick}})],1)]),l("el-col",{attrs:{span:20,xs:24}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"68px"}},[l("el-form-item",{attrs:{label:"物料编码",prop:"itemCode"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入物料编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemCode,callback:function(t){e.$set(e.queryParams,"itemCode",t)},expression:"queryParams.itemCode"}})],1),l("el-form-item",{attrs:{label:"物料名称",prop:"itemName"}},[l("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入物料名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemName,callback:function(t){e.$set(e.queryParams,"itemName",t)},expression:"queryParams.itemName"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.itemList},on:{"selection-change":e.handleSelectionChange}},[l("el-table-column",{attrs:{type:"selection",width:"50",align:"center"}}),e.columns[0].visible?l("el-table-column",{key:"itemCode",attrs:{label:"物料编码",width:"120",align:"center",prop:"itemCode"}}):e._e(),e.columns[1].visible?l("el-table-column",{key:"itemName",attrs:{label:"物料名称","min-width":"120",align:"left",prop:"itemName","show-overflow-tooltip":!0}}):e._e(),e.columns[2].visible?l("el-table-column",{key:"specification",attrs:{label:"规格型号",align:"left",prop:"specification","show-overflow-tooltip":!0}}):e._e(),e.columns[3].visible?l("el-table-column",{key:"unitName",attrs:{label:"单位",align:"center",prop:"unitName","show-overflow-tooltip":!0}}):e._e(),e.columns[4].visible?l("el-table-column",{key:"itemOrProduct",attrs:{label:"物料/产品",align:"center",prop:"itemOrProduct","show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.mes_item_product,value:t.row.itemOrProduct}})]}}],null,!1,2047508773)}):e._e(),e.columns[5].visible?l("el-table-column",{key:"itemTypeName",attrs:{label:"所属分类",align:"center",prop:"itemTypeName",width:"120"}}):e._e(),e.columns[6].visible?l("el-table-column",{attrs:{label:"创建时间",align:"center",prop:"createTime",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.createTime)))])]}}],null,!1,3078210614)}):e._e()],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}})],1)],1),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=(l("4de4"),l("d81d"),l("e9f5"),l("910d"),l("ab43"),l("d3b7"),l("5755")),o=(l("c3e0"),l("8171"),l("5f87"),l("4a8f")),i=l("ca17"),s=l.n(i),c=(l("542c"),{name:"MdItemSelect",dicts:["sys_yes_no","mes_item_product"],components:{Treeselect:s.a},data:function(){return{showFlag:!1,ids:[],selectedRows:[],single:!0,multiple:!0,showSearch:!0,total:0,itemList:null,itemTypeOptions:void 0,itemTypeName:void 0,defaultProps:{children:"children",label:"label"},queryParams:{pageNum:1,pageSize:10,itemCode:void 0,itemName:void 0,itemTypeId:0,enableFlag:"Y"},columns:[{key:0,label:"物料/产品编码",visible:!0},{key:1,label:"物料/产品名称",visible:!0},{key:2,label:"规格型号",visible:!0},{key:3,label:"单位",visible:!0},{key:4,label:"物料/产品",visible:!0},{key:5,label:"物料分类",visible:!0},{key:6,label:"创建时间",visible:!0}]}},watch:{itemTypeName:function(e){this.$refs.tree.filter(e)}},created:function(){this.getList(),this.getTreeselect()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.itemList=t.rows,e.total=t.total,e.loading=!1}))},getTreeselect:function(){var e=this;Object(o["f"])().then((function(t){e.itemTypeOptions=t.data}))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleNodeClick:function(e){this.queryParams.itemTypeId=e.id,this.handleQuery()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.itemId})),this.single=1!=e.length,this.multiple=!e.length,this.selectedRows=e},confirmSelect:function(){this.ids!=[]&&0!=this.ids.length?(this.$emit("onSelected",this.selectedRows),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}}),u=c,d=l("2877"),m=Object(d["a"])(u,a,n,!1,null,null,null);t["a"]=m.exports},"9d98":function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"产品BOM物料选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.bomList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.bomItemId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedItemId,callback:function(t){e.selectedItemId=t},expression:"selectedItemId"}},[e._v(e._s(""))])]}}],null,!1,3115270067)}),l("el-table-column",{attrs:{label:"物料编码",align:"center",prop:"bomItemCode"}}),l("el-table-column",{attrs:{label:"物料名称",align:"center",prop:"bomItemName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"规格",align:"center",prop:"bomItemSpec","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"单位",width:"60px",align:"center",prop:"unitName"}}),l("el-table-column",{attrs:{label:"使用比例",width:"90px",align:"center",prop:"quantity"}}),l("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("84fd"),o={name:"ItemBomSelectSingle",props:{itemId:void 0},data:function(){return{showFlag:!1,loading:!0,selectedItemId:void 0,selectedRows:void 0,single:!0,multiple:!0,showSearch:!0,total:0,bomList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,itemId:this.itemId,bomItemId:null,bomItemCode:null,bomItemName:null,bomItemSpec:null,unitOfMeasure:null,unitName:null,quantity:null,enableFlag:null,attr1:null,attr2:null,attr3:null,attr4:null}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.bomList=t.rows,e.total=t.total,e.loading=!1}))},handleCurrent:function(e){e&&(this.selectedRows=e)},handleRowDbClick:function(e){e&&(this.selectedRows=e,this.$emit("onSelected",this.selectedRows),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRows=e)},confirmSelect:function(){null!=this.selectedItemId&&0!=this.selectedItemId?(this.$emit("onSelected",this.selectedRows),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},cc63:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"客户选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"100px"}},[l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"客户编码",prop:"clientCode"}},[l("el-input",{attrs:{placeholder:"请输入客户编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientCode,callback:function(t){e.$set(e.queryParams,"clientCode",t)},expression:"queryParams.clientCode"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"客户名称",prop:"clientName"}},[l("el-input",{attrs:{placeholder:"请输入客户名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientName,callback:function(t){e.$set(e.queryParams,"clientName",t)},expression:"queryParams.clientName"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"客户简称",prop:"clientNick"}},[l("el-input",{attrs:{placeholder:"请输入客户简称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientNick,callback:function(t){e.$set(e.queryParams,"clientNick",t)},expression:"queryParams.clientNick"}})],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"客户英文名称",prop:"clientEn"}},[l("el-input",{attrs:{placeholder:"请输入客户英文名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.clientEn,callback:function(t){e.$set(e.queryParams,"clientEn",t)},expression:"queryParams.clientEn"}})],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",{attrs:{label:"是否启用",prop:"enableFlag"}},[l("el-select",{staticStyle:{width:"215px"},attrs:{placeholder:"是否启用",clearable:""},model:{value:e.queryParams.enableFlag,callback:function(t){e.$set(e.queryParams,"enableFlag",t)},expression:"queryParams.enableFlag"}},e._l(e.dict.type.sys_yes_no,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),l("el-col",{attrs:{span:8}},[l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1)],1),l("right-toolbar",{attrs:{showSearch:e.showSearch},on:{"update:showSearch":function(t){e.showSearch=t},"update:show-search":function(t){e.showSearch=t},queryTable:e.getList}}),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.clientList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.clientId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedClientId,callback:function(t){e.selectedClientId=t},expression:"selectedClientId"}},[e._v(e._s(""))])]}}],null,!1,2279746451)}),l("el-table-column",{attrs:{label:"客户编码",align:"center",prop:"clientCode"}}),l("el-table-column",{attrs:{label:"客户名称",width:"150px",align:"center",prop:"clientName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"客户简称",align:"center",prop:"clientNick"}}),l("el-table-column",{attrs:{label:"客户类型",align:"center",prop:"clientType"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.mes_client_type,value:t.row.clientType}})]}}],null,!1,123080248)}),l("el-table-column",{attrs:{label:"客户电话",align:"center",prop:"tel"}}),l("el-table-column",{attrs:{label:"联系人",align:"center",prop:"contact1"}}),l("el-table-column",{attrs:{label:"联系人-电话",align:"center",prop:"contact1Tel"}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("fc13"),o={name:"ClientSelectSingle",dicts:["mes_client_type","sys_yes_no"],data:function(){return{showFlag:!1,selectedClientId:void 0,selectedRow:void 0,loading:!0,single:!0,multiple:!0,showSearch:!0,total:0,clientList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,clientCode:null,clientName:null,clientNick:null,clientEn:null,clientDes:null,clientLogo:null,clientType:null,address:null,website:null,email:null,tel:null,contact1:null,contact1Tel:null,contact1Email:null,contact2:null,contact2Tel:null,contact2Email:null,creditCode:null,enableFlag:null}}},created:function(){this.getList()},methods:{handleOpen:function(e){this.showFlag=!0,this.selectedClientId=e},getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.clientList=t.rows,e.total=t.total,e.loading=!1}))},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRow=e)},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedClientId&&0!=this.selectedClientId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},cfdd:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"客户选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"100px"}},[l("el-form-item",{attrs:{label:"检验单编号",prop:"iqcCode"}},[l("el-input",{attrs:{placeholder:"请输入来料检验单编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.iqcCode,callback:function(t){e.$set(e.queryParams,"iqcCode",t)},expression:"queryParams.iqcCode"}})],1),l("el-form-item",{attrs:{label:"供应商编码",prop:"vendorCode"}},[l("el-input",{attrs:{placeholder:"请输入供应商编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorCode,callback:function(t){e.$set(e.queryParams,"vendorCode",t)},expression:"queryParams.vendorCode"}})],1),l("el-form-item",{attrs:{label:"供应商名称",prop:"vendorName"}},[l("el-input",{attrs:{placeholder:"请输入供应商名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorName,callback:function(t){e.$set(e.queryParams,"vendorName",t)},expression:"queryParams.vendorName"}})],1),l("el-form-item",{attrs:{label:"供应商批次号",prop:"vendorBatch"}},[l("el-input",{attrs:{placeholder:"请输入供应商批次号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.vendorBatch,callback:function(t){e.$set(e.queryParams,"vendorBatch",t)},expression:"queryParams.vendorBatch"}})],1),l("el-form-item",{attrs:{label:"产品物料编码",prop:"itemCode"}},[l("el-input",{attrs:{placeholder:"请输入产品物料编码",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemCode,callback:function(t){e.$set(e.queryParams,"itemCode",t)},expression:"queryParams.itemCode"}})],1),l("el-form-item",{attrs:{label:"产品物料名称",prop:"itemName"}},[l("el-input",{attrs:{placeholder:"请输入产品物料名称",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.itemName,callback:function(t){e.$set(e.queryParams,"itemName",t)},expression:"queryParams.itemName"}})],1),l("el-form-item",{attrs:{label:"检测人员",prop:"inspector"}},[l("el-input",{attrs:{placeholder:"请输入检测人员",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.inspector,callback:function(t){e.$set(e.queryParams,"inspector",t)},expression:"queryParams.inspector"}})],1),l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.iqcList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"50",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.iqcId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}},[e._v(e._s(""))])]}}],null,!1,1300653352)}),l("el-table-column",{attrs:{label:"来料检验单编号",width:"140px",align:"center",prop:"iqcCode"}}),l("el-table-column",{attrs:{label:"来料检验单名称",width:"120px",align:"center",prop:"iqcName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"供应商简称",width:"100px",align:"center",prop:"vendorNick","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"供应商批次号",width:"120px",align:"center",prop:"vendorBatch"}}),l("el-table-column",{attrs:{label:"产品物料编码",width:"120px",align:"center",prop:"itemCode"}}),l("el-table-column",{attrs:{label:"产品物料名称",width:"120px",align:"center",prop:"itemName","show-overflow-tooltip":!0}}),l("el-table-column",{attrs:{label:"接收数量",width:"90px",align:"center",prop:"quantityRecived"}}),l("el-table-column",{attrs:{label:"检测数量",width:"90px",align:"center",prop:"quantityCheck"}}),l("el-table-column",{attrs:{label:"不合格数",align:"center",prop:"quantityUnqualified"}}),l("el-table-column",{attrs:{label:"检测结果",align:"center",prop:"checkResult"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("dict-tag",{attrs:{options:e.dict.type.mes_qc_result,value:t.row.checkResult}})]}}],null,!1,1988860844)}),l("el-table-column",{attrs:{label:"来料日期",align:"center",prop:"reciveDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.reciveDate,"{y}-{m}-{d}")))])]}}],null,!1,3920480359)}),l("el-table-column",{attrs:{label:"检测日期",align:"center",prop:"inspectDate",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("span",[e._v(e._s(e.parseTime(t.row.inspectDate,"{y}-{m}-{d}")))])]}}],null,!1,3895309823)}),l("el-table-column",{attrs:{label:"检测人员",align:"center",prop:"inspectorName"}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("a3ca"),o={name:"IqcSelect",dicts:["mes_qc_result","mes_order_status"],data:function(){return{showFlag:!1,loading:!0,selectedId:null,selectedRow:void 0,single:!0,multiple:!0,showSearch:!0,total:0,iqcList:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,iqcCode:null,iqcName:null,templateId:null,vendorId:null,vendorCode:null,vendorName:null,vendorNick:null,vendorBatch:null,itemId:null,itemCode:null,itemName:null,specification:null,checkResult:"ACCEPT",reciveDate:null,inspectDate:null,inspector:null,status:null}}},created:function(){this.getList()},methods:{getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.iqcList=t.rows,e.total=t.total,e.loading=!1}))},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},handleCurrent:function(e){e&&(this.selectedRow=e)},handleRowDbClick:function(e){e&&(this.selectedRow=e,this.$emit("onSelected",this.selectedRow),this.showFlag=!1)},handleRowChange:function(e){e&&(this.selectedRow=e)},confirmSelect:function(){null!=this.selectedId&&0!=this.selectedId?(this.$emit("onSelected",this.selectedRow),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},i=o,s=l("2877"),c=Object(s["a"])(i,a,n,!1,null,null,null);t["a"]=c.exports},e820:function(e,t,l){"use strict";var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return e.showFlag?l("el-dialog",{attrs:{title:"工作站选择",visible:e.showFlag,modal:!1,width:"80%",center:""},on:{"update:visible":function(t){e.showFlag=t}}},[l("el-form",{directives:[{name:"show",rawName:"v-show",value:e.showSearch,expression:"showSearch"}],ref:"queryForm",attrs:{model:e.queryParams,size:"small",inline:!0,"label-width":"90px"}},[l("el-row",[l("el-col",{attrs:{span:7}},[l("el-form-item",{attrs:{label:"工作站编号",prop:"workstationCode"}},[l("el-input",{attrs:{placeholder:"请输入工作站编号",clearable:""},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleQuery(t)}},model:{value:e.queryParams.workstationCode,callback:function(t){e.$set(e.queryParams,"workstationCode",t)},expression:"queryParams.workstationCode"}})],1)],1),l("el-col",{attrs:{span:7}},[l("el-form-item",{attrs:{label:"所属工序",prop:"processName"}},[l("el-select",{attrs:{placeholder:"请选择工序"},model:{value:e.queryParams.processId,callback:function(t){e.$set(e.queryParams,"processId",t)},expression:"queryParams.processId"}},e._l(e.processOptions,(function(e){return l("el-option",{key:e.processId,attrs:{label:e.processName,value:e.processId}})})),1)],1)],1),l("el-col",{attrs:{span:7}},[l("el-form-item",{attrs:{label:"所在车间",prop:"workshopName"}},[l("el-select",{attrs:{placeholder:"请选择车间"},model:{value:e.queryParams.workshopId,callback:function(t){e.$set(e.queryParams,"workshopId",t)},expression:"queryParams.workshopId"}},e._l(e.workshopOptions,(function(e){return l("el-option",{key:e.workshopId,attrs:{label:e.workshopName,value:e.workshopId}})})),1)],1)],1),l("el-col",{attrs:{span:3}},[l("el-form-item",[l("el-button",{attrs:{type:"primary",icon:"el-icon-search",size:"mini"},on:{click:e.handleQuery}},[e._v("搜索")]),l("el-button",{attrs:{icon:"el-icon-refresh",size:"mini"},on:{click:e.resetQuery}},[e._v("重置")])],1)],1)],1),l("el-row",[l("el-col",{attrs:{span:24}})],1)],1),l("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.workstationList},on:{"current-change":e.handleCurrent,"row-dblclick":e.handleRowDbClick}},[l("el-table-column",{attrs:{width:"55",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[l("el-radio",{attrs:{label:t.row.workstationId},on:{change:function(l){return e.handleRowChange(t.row)}},model:{value:e.selectedWorkstationId,callback:function(t){e.selectedWorkstationId=t},expression:"selectedWorkstationId"}},[e._v(e._s(""))])]}}],null,!1,4229785971)}),l("el-table-column",{attrs:{label:"工作站编号",align:"center",prop:"workstationCode"}}),l("el-table-column",{attrs:{label:"工作站名称",align:"center",prop:"workstationName"}}),l("el-table-column",{attrs:{label:"工作站地点",align:"center",prop:"workstationAddress"}}),l("el-table-column",{attrs:{label:"所在车间名称",align:"center",prop:"workshopName"}}),l("el-table-column",{attrs:{label:"所属工序",align:"center",prop:"processName"}}),l("el-table-column",{attrs:{label:"备注",align:"center",prop:"remark"}})],1),l("pagination",{directives:[{name:"show",rawName:"v-show",value:e.total>0,expression:"total>0"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{"update:page":function(t){return e.$set(e.queryParams,"pageNum",t)},"update:limit":function(t){return e.$set(e.queryParams,"pageSize",t)},pagination:e.getList}}),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{type:"primary"},on:{click:e.confirmSelect}},[e._v("确 定")]),l("el-button",{on:{click:function(t){e.showFlag=!1}}},[e._v("取 消")])],1)],1):e._e()},n=[],r=l("f356"),o=l("287e"),i=l("dfb9"),s={name:"WorkstationSelect",dicts:["sys_yes_no"],data:function(){return{showFlag:!1,loading:!0,selectedWorkstationId:void 0,selectedRows:[],single:!0,multiple:!0,showSearch:!0,total:0,workstationList:[],workshopOptions:[],processOptions:[],title:"",open:!1,queryParams:{pageNum:1,pageSize:10,workstationCode:null,workstationName:null,workstationAddress:null,workshopId:null,workshopCode:null,workshopName:null,processId:this.processId,processCode:null,processName:null,enableFlag:null},form:{}}},props:{processId:void 0},created:function(){this.getList(),this.getWorkshops(),this.getProcess()},methods:{handleOpen:function(e){this.showFlag=!0,this.selectedWorkstationId=e},getList:function(){var e=this;this.loading=!0,Object(r["d"])(this.queryParams).then((function(t){e.workstationList=t.rows,e.total=t.total,e.loading=!1}))},getWorkshops:function(){var e=this;Object(i["d"])().then((function(t){e.workshopOptions=t.data}))},getProcess:function(){var e=this;Object(o["d"])().then((function(t){e.processOptions=t.data}))},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={workstationId:null,workstationCode:null,workstationName:null,workstationAddress:null,workshopId:null,workshopCode:null,workshopName:null,processId:null,processCode:null,processName:null,enableFlag:"Y",remark:null,createBy:null,createTime:null,updateBy:null,updateTime:null},this.resetForm("form")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm("queryForm"),this.handleQuery()},handleCurrent:function(e){e&&(this.selectedRows=e)},handleRowChange:function(e){e&&(this.selectedRows=e)},handleRowDbClick:function(e){e&&(this.selectedRows=e,this.$emit("onSelected",this.selectedRows),this.showFlag=!1)},confirmSelect:function(){null!=this.selectedWorkstationId&&0!=this.selectedWorkstationId?(this.$emit("onSelected",this.selectedRows),this.showFlag=!1):this.$notify({title:"提示",type:"warning",message:"请至少选择一条数据!"})}}},c=s,u=l("2877"),d=Object(u["a"])(c,a,n,!1,null,null,null);t["a"]=d.exports}}]);